# =============================================================================
# Cloudflare Foundation - Environment Configuration
# =============================================================================
# Copy this file to .env.local and fill in your values
# =============================================================================

# -----------------------------------------------------------------------------
# Required Secrets (set via: wrangler secret put <NAME>)
# -----------------------------------------------------------------------------

# JWT signing key for context tokens (generate with: openssl rand -base64 32)
CONTEXT_SIGNING_KEY=your-secret-key-here

# Cloudflare Turnstile secret (from dashboard.cloudflare.com/turnstile)
TURNSTILE_SECRET=your-turnstile-secret

# -----------------------------------------------------------------------------
# D1 Database IDs (from: wrangler d1 create <name>)
# -----------------------------------------------------------------------------

# Main database for gateway, agents, queues, workflows
D1_FOUNDATION_ID=

# Planning machine database
D1_PLANNING_ID=

# -----------------------------------------------------------------------------
# KV Namespace IDs (from: wrangler kv:namespace create <name>)
# -----------------------------------------------------------------------------

# Rate limiting storage
KV_RATE_LIMIT_ID=

# Session storage
KV_SESSION_ID=

# General cache
KV_CACHE_ID=

# -----------------------------------------------------------------------------
# R2 Bucket Names (from: wrangler r2 bucket create <name>)
# -----------------------------------------------------------------------------

# File uploads
R2_FOUNDATION_BUCKET=foundation-files

# Planning artifacts
R2_PLANNING_BUCKET=planning-files

# -----------------------------------------------------------------------------
# Queue Names (from: wrangler queues create <name>)
# -----------------------------------------------------------------------------

QUEUE_AUDIT=foundation-audit
QUEUE_NOTIFICATIONS=foundation-notifications
QUEUE_ANALYTICS=foundation-analytics
QUEUE_WEBHOOKS=foundation-webhooks

# -----------------------------------------------------------------------------
# Optional: External API Keys
# -----------------------------------------------------------------------------

# Brave Search API (for planning-machine web research)
# BRAVE_API_KEY=

# Tavily Search API (alternative search provider)
# TAVILY_API_KEY=

# -----------------------------------------------------------------------------
# Optional: AI Gateway (for LLM routing)
# -----------------------------------------------------------------------------

# AI Gateway account ID
# AI_GATEWAY_ACCOUNT=

# AI Gateway name
# AI_GATEWAY_NAME=

# -----------------------------------------------------------------------------
# Optional: Analytics
# -----------------------------------------------------------------------------

# Analytics Engine dataset name
# ANALYTICS_DATASET=foundation-analytics

# -----------------------------------------------------------------------------
# Development Settings
# -----------------------------------------------------------------------------

# Set to "development" for local testing
NODE_ENV=production

# Enable debug logging
# DEBUG=true

# -----------------------------------------------------------------------------
# Setup Instructions
# -----------------------------------------------------------------------------
#
# 1. Run ./scripts/setup-all.sh to create all Cloudflare resources
# 2. Copy the generated IDs from .env.local to this file
# 3. Set secrets in Cloudflare:
#    wrangler secret put CONTEXT_SIGNING_KEY
#    wrangler secret put TURNSTILE_SECRET
# 4. Update wrangler.jsonc files with the IDs
# 5. Run ./scripts/validate-config.sh to verify
# 6. Run ./scripts/deploy-all.sh to deploy
#
# For local development:
#    wrangler dev --config services/gateway/wrangler.jsonc
#
