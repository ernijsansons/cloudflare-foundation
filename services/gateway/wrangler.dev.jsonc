{
  "$schema": "node_modules/wrangler/config-schema.json",
  "name": "foundation-gateway-dev",
  "main": "src/index.ts",
  "compatibility_date": "2025-09-25",
  "compatibility_flags": ["nodejs_compat"],
  "vars": {
    "ENVIRONMENT": "development",
    "ALLOWED_ORIGINS": "http://localhost:5173,http://localhost:3000",
    "USE_DO_RATE_LIMITING": "false"
  },
  // Minimal bindings for local development - no workflows
  "kv_namespaces": [
    { "binding": "RATE_LIMIT_KV", "id": "1e179df285ba4817b905633ce55d6d98" },
    { "binding": "SESSION_KV", "id": "c53d7df2c22c43f590f960a913113737" }
  ],
  "d1_databases": [
    { "binding": "DB", "database_name": "foundation-primary", "database_id": "34bce593-9df9-4acf-ac40-c8d93a7c7244", "migrations_dir": "migrations" }
  ],
  "r2_buckets": [
    { "binding": "FILES", "bucket_name": "foundation-files" }
  ],
  "queues": {
    "producers": [
      { "binding": "AUDIT_QUEUE", "queue": "foundation-audit" },
      { "binding": "NOTIFICATION_QUEUE", "queue": "foundation-notifications" },
      { "binding": "ANALYTICS_QUEUE", "queue": "foundation-analytics" },
      { "binding": "WEBHOOK_QUEUE", "queue": "foundation-webhooks" }
    ]
  },
  "durable_objects": {
    "bindings": [
      { "name": "FOUNDATION_MCP", "class_name": "FoundationMcpServer" }
    ]
  },
  "migrations": [
    { "tag": "v1", "new_classes": ["FoundationMcpServer"] }
  ]
}
