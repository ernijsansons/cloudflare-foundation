{
	"version": "6",
	"dialect": "sqlite",
	"id": "ea019ada-746b-4ff3-a5e9-bbd08715dc38",
	"prevId": "4239b8bf-2e3f-46c7-bc12-9363dcdfd699",
	"tables": {
		"audit_chain": {
			"name": "audit_chain",
			"columns": {
				"tenant_id": {
					"name": "tenant_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"seq": {
					"name": "seq",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"event_type": {
					"name": "event_type",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"payload": {
					"name": "payload",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"previous_hash": {
					"name": "previous_hash",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"hash": {
					"name": "hash",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"created_at": {
					"name": "created_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"audit_log": {
			"name": "audit_log",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"tenant_id": {
					"name": "tenant_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"event": {
					"name": "event",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"data": {
					"name": "data",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"timestamp": {
					"name": "timestamp",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"escalations": {
			"name": "escalations",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": false
				},
				"decision_id": {
					"name": "decision_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"from_operator_id": {
					"name": "from_operator_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"to_supervisor_id": {
					"name": "to_supervisor_id",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"reason": {
					"name": "reason",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"priority": {
					"name": "priority",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"status": {
					"name": "status",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"created_at": {
					"name": "created_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"resolved_at": {
					"name": "resolved_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"resolution": {
					"name": "resolution",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"escalations_from_operator_id_users_id_fk": {
					"name": "escalations_from_operator_id_users_id_fk",
					"tableFrom": "escalations",
					"tableTo": "users",
					"columnsFrom": ["from_operator_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"escalations_to_supervisor_id_users_id_fk": {
					"name": "escalations_to_supervisor_id_users_id_fk",
					"tableFrom": "escalations",
					"tableTo": "users",
					"columnsFrom": ["to_supervisor_id"],
					"columnsTo": ["id"],
					"onDelete": "set null",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"handoffs": {
			"name": "handoffs",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": false
				},
				"run_id": {
					"name": "run_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"from_phase": {
					"name": "from_phase",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"to_phase": {
					"name": "to_phase",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"status": {
					"name": "status",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"artifact_id": {
					"name": "artifact_id",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"data": {
					"name": "data",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"instructions": {
					"name": "instructions",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"dependencies": {
					"name": "dependencies",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"created_at": {
					"name": "created_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"accepted_at": {
					"name": "accepted_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"completed_at": {
					"name": "completed_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"rejected_at": {
					"name": "rejected_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"rejection_reason": {
					"name": "rejection_reason",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"operator_audit_log": {
			"name": "operator_audit_log",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": false
				},
				"user_id": {
					"name": "user_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"tenant_id": {
					"name": "tenant_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"action": {
					"name": "action",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"resource_type": {
					"name": "resource_type",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"resource_id": {
					"name": "resource_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"metadata": {
					"name": "metadata",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"ip_address": {
					"name": "ip_address",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"user_agent": {
					"name": "user_agent",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"timestamp": {
					"name": "timestamp",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"success": {
					"name": "success",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"error_message": {
					"name": "error_message",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"operator_audit_log_user_id_users_id_fk": {
					"name": "operator_audit_log_user_id_users_id_fk",
					"tableFrom": "operator_audit_log",
					"tableTo": "users",
					"columnsFrom": ["user_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"operator_reviews": {
			"name": "operator_reviews",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": false
				},
				"decision_id": {
					"name": "decision_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"operator_id": {
					"name": "operator_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"operator_role": {
					"name": "operator_role",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"action": {
					"name": "action",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"confidence": {
					"name": "confidence",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"feedback": {
					"name": "feedback",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"revision_instructions": {
					"name": "revision_instructions",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"created_at": {
					"name": "created_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"operator_reviews_operator_id_users_id_fk": {
					"name": "operator_reviews_operator_id_users_id_fk",
					"tableFrom": "operator_reviews",
					"tableTo": "users",
					"columnsFrom": ["operator_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"resolution_steps": {
			"name": "resolution_steps",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": false
				},
				"workflow_id": {
					"name": "workflow_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"phase": {
					"name": "phase",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"action": {
					"name": "action",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"result": {
					"name": "result",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"confidence": {
					"name": "confidence",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"completed_at": {
					"name": "completed_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"resolution_steps_workflow_id_unknown_resolutions_id_fk": {
					"name": "resolution_steps_workflow_id_unknown_resolutions_id_fk",
					"tableFrom": "resolution_steps",
					"tableTo": "unknown_resolutions",
					"columnsFrom": ["workflow_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"tenants": {
			"name": "tenants",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": false
				},
				"name": {
					"name": "name",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"plan": {
					"name": "plan",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "'free'"
				},
				"created_at": {
					"name": "created_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"unknown_resolutions": {
			"name": "unknown_resolutions",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": false
				},
				"unknown_id": {
					"name": "unknown_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"status": {
					"name": "status",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"started_at": {
					"name": "started_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"completed_at": {
					"name": "completed_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"unknown_resolutions_unknown_id_unknowns_id_fk": {
					"name": "unknown_resolutions_unknown_id_unknowns_id_fk",
					"tableFrom": "unknown_resolutions",
					"tableTo": "unknowns",
					"columnsFrom": ["unknown_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"unknowns": {
			"name": "unknowns",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": false
				},
				"run_id": {
					"name": "run_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"phase_discovered": {
					"name": "phase_discovered",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"category": {
					"name": "category",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"priority": {
					"name": "priority",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"status": {
					"name": "status",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"question": {
					"name": "question",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"context": {
					"name": "context",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"assumptions": {
					"name": "assumptions",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"answer": {
					"name": "answer",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"answered_in_phase": {
					"name": "answered_in_phase",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"answered_at": {
					"name": "answered_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"answered_by": {
					"name": "answered_by",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"confidence": {
					"name": "confidence",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"created_at": {
					"name": "created_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"updated_at": {
					"name": "updated_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"users": {
			"name": "users",
			"columns": {
				"id": {
					"name": "id",
					"type": "text",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": false
				},
				"tenant_id": {
					"name": "tenant_id",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"email": {
					"name": "email",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"name": {
					"name": "name",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"role": {
					"name": "role",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "'operator'"
				},
				"created_at": {
					"name": "created_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		}
	},
	"views": {},
	"enums": {},
	"_meta": {
		"schemas": {},
		"tables": {},
		"columns": {}
	},
	"internal": {
		"indexes": {}
	}
}
